# CutePetsCbus [@CutePetsCbus](http://www.twitter.com/CutePetsCbus)
This is a bot that retrieves listings from Baltimore City animal shelters and tweets photos and profile links to eligible pets.

Inspired by previous work by [CutePetsDenver](https://github.com/codeforamerica/CutePetsDenver) and [CutePetsBMore](https://github.com/Ryan-J-Smith/CutePetsBmore).

The python script assumes that available animals are posted on the Petango service.

## Quickstart:

### On twitter:

1. Create the account that will be used to tweet
1. Log into this account and navigate to http://apps.twitter.com
1. Create a new app with permission to post
1. Generate credentials (consumer keys and access tokens)

### In code:

1. Configure `credentials.py` by adding the keys generated by twitter
1. Amend the shelterDict in fetchPostParse.py to specify your shelters (See below)
1. Make sure to install the necessary dependencies on the server which will run the code. Can use `pip install -r requirements.txt`
1. Tweet a single pet listing with `python fetchPostParse.py` or configure a scheduler (e.g. `cron`)

## Notes:

### Extension to other shelters

Modifying the script to retrieve animals from other shelters that use petango is straightforward.

Use [Petango's shelter search](http://www.petango.com/Forms/Search.aspx) to identify a shelter of interest.  Choose to view animals from this shelter and you will notice a url of the form:

**"www.petango.com/Forms/ShelterAnimals.aspx?s=1&sh=###"**

The number contained in **"sh=###"** is the ID number of that shelter.  This number can be used to add or modify the `shelterDicts` dictionary.  Presently, the script chooses a shelter ID at random from this dictionary to fetch animals from. As a result, modifying this script to apply to other shelters is as simple as modifying this dictionary.

### Avoidance of duplicate tweets

The script attempts to avoid reposting tweets about the same animals.  This is done by tracking recent tweets in a buffer file created by the script.  The size of the buffer file can be adjusted by changing the value of the `queueLen` variable.

